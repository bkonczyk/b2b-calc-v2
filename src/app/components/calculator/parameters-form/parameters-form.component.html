<div class="space-y-6">
    <!-- Sekcja 1: Przychody -->
    <section class="bg-white p-6 rounded-3xl shadow-sm border border-slate-100">
        <div class="flex items-center gap-2 mb-6">
            <div class="bg-blue-50 p-2 rounded-lg text-blue-600">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/>
                    <rect width="20" height="14" x="2" y="6" rx="2"/>
                </svg>
            </div>
            <h2 class="font-bold text-lg text-slate-800">Parametry firmy</h2>
        </div>

        <div class="space-y-5">
            <div>
                <label class="block text-sm font-semibold text-slate-700 mb-2 flex items-center justify-between">
                    Przychód miesięczny (Netto)
                    <span class="text-indigo-600 text-xs bg-indigo-50 px-2 py-0.5 rounded">PLN</span>
                </label>
                <input
                        type="number"
                        [value]="service.income()"
                        (input)="onIncomeInput($event)"
                        class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 transition-all outline-none font-medium text-lg"
                />
            </div>

            <div>
                <label class="block text-sm font-semibold text-slate-700 mb-2">Stawka VAT</label>
                <select
                        [value]="service.vatRate()"
                        (change)="service.setVatRate(getValue($event))"
                        class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 transition-all outline-none font-medium"
                >
                    <option [value]="23">23% - Podstawowa</option>
                    <option [value]="8">8% - Obniżona</option>
                    <option [value]="0">0% / Zwolniony</option>
                </select>
            </div>

            <div>
                <label class="block text-sm font-semibold text-slate-700 mb-2">Forma opodatkowania</label>
                <select
                        [value]="service.taxForm()"
                        (change)="service.setTaxForm(getStringValue($event))"
                        class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 transition-all outline-none font-medium"
                >
                    @for (form of taxOptions; track form.key) {
                        <option [value]="form.key">{{ form.label }}</option>
                    }
                </select>
            </div>
        </div>
    </section>

    <!-- Sekcja 2: ZUS -->
    <section class="bg-white p-6 rounded-3xl shadow-sm border border-slate-100">
        <div class="flex items-center gap-2 mb-6">
            <div class="bg-emerald-50 p-2 rounded-lg text-emerald-600">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/>
                    <path d="m9 12 2 2 4-4"/>
                </svg>
            </div>
            <h2 class="font-bold text-lg text-slate-800">Ubezpieczenie (ZUS)</h2>
        </div>

        <div class="space-y-4">
            @for (zus of zusOptions; track zus.key) {
                <label
                        class="flex items-center p-3 rounded-2xl border cursor-pointer transition-all"
                        [class.bg-indigo-50]="service.zusType() === zus.key"
                        [class.border-indigo-200]="service.zusType() === zus.key"
                        [class.bg-slate-50]="service.zusType() !== zus.key"
                        [class.border-transparent]="service.zusType() !== zus.key"
                >
                    <input
                            type="radio"
                            name="zus"
                            class="w-4 h-4 text-indigo-600"
                            [checked]="service.zusType() === zus.key"
                            (change)="service.setZusType(zus.key)"
                    />
                    <span class="ml-3 text-sm font-medium text-slate-700">{{ zus.label }}</span>
                </label>
            }

            <div class="pt-2">
                <label class="flex items-center cursor-pointer group">
                    <div class="relative">
                        <input
                                type="checkbox"
                                class="sr-only"
                                [checked]="service.hasSickness()"
                                (change)="service.toggleSickness()"
                        />
                        <div class="block w-10 h-6 rounded-full transition-colors"
                             [class.bg-indigo-600]="service.hasSickness()"
                             [class.bg-slate-300]="!service.hasSickness()"></div>
                        <div class="absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform shadow-sm"
                             [class.translate-x-4]="service.hasSickness()"></div>
                    </div>
                    <span class="ml-3 text-sm text-slate-600 font-medium">Dobrowolne chorobowe</span>
                </label>
            </div>
        </div>
    </section>
</div>